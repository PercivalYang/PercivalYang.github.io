# Chapter 1

## 计网基本概念

- 节点
  - 主机节点：手机、电脑等
  - 交换节点：路由器、交换机
- 链路
  - 接入网络链路：主机节点与交换节点间的链路
  - 主干(骨干)链路：交换节点与交换节点间的链路

- 协议
  - 定义：对等层的实体，在通信中应该遵守的规则
  - 协议规范了：报文格式、次序、动作

- 网络边缘：主机、应用程序

  - 边缘(edge)通过接入网络链路(access)接入核心(core)，从而使得任意端系统之间可以互相通信
  - 核心(core)的作用：数据交换
  - 客户端服务器模式：主从模式，主->服务器，从->客户端。该模式的缺点：可扩展性和可靠性差

  <img src="https://gitee.com/percivalyang/images/raw/master/images/image-20220331111731438.png" alt="image-20220331111731438" style="zoom: 80%;" />

  <img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20220331111823735.png" alt="image-20220331111823735" style="zoom: 80%;" />

  ### 网络核心：互连的路由器

  - 电路交换：为每个呼叫预留一条专门的**线路(piece)**；
    - 独享资源：**不共享**；能够保证性能
    - 时分(TDM)；频分(FDM)；波分(WDM)；码分(CDM)
    - 网络传输时会将带宽分片，如：
      - 链路总速率为1.536Mbps，每条线路采用时隙数为24的TDM；
      - 则一个时间片的传输速率=1.536Mbps / 24 = 64Kbps
    - **不适合计算机之间的通信**，如果呼叫之间没有数据传送，则占据的片也不能被其他呼叫使用
  - 分组交换：
    - **共享**资源；同样的网络资源，分组交换允许更多的用户使用
    - 存储-转发，存储完整个分组后再转发
    - 排队和延迟：若到达速率>链路输出速率，则会造成排队和延迟
    - 按照**有无网络层的连接**分为：数据报网络，虚电路网络
    - 数据报网络：
      - 按照目标地址决定下一跳(hop)；
      - 同阶段路由可以不同；
    - 虚电路网络：
      - 每个分组带有标签；
      - **呼叫建立时决定路径**，整个呼叫过程中路径不改变；
      - 路由器维持每个呼叫的状态信息
      - ![image-20220331212845251](https://gitee.com/percivalyang/images/raw/master/images/image-20220331212845251.png)

### 协议层次及服务类型

#### 服务和协议

- 区别
  - 服务：低层向上层，形式为原语，传送方向垂直；
  - 协议：对等体之间通信，是需要通信中需要遵循的规则的集合，传送方向水平
- 联系
  - 本层协议需要下层提供的服务来实现；
  - 本次实体通过协议向上层提供更高级的服务

#### 服务

- **服务(Service)**：低层实体向上层实体提供它们之间的通信的能力；
- **原语(primitive)**：下层向上层传送服务的**形式**；
- 服务访问点**SAP**：下层向上层传送服务时，通过的层间**接口**

#### 数据单元(DU)

![image-20220407112031799](https://gitee.com/percivalyang/images/raw/master/images/image-20220407112031799.png)

#### 协议栈

- **应用层**：网络应用--报文(message)
  - FTP, SMTP, HTTP, DNS
- **传输层**：主机之间数据传输--报文段(segment)
  - 在网络层的端到端基础上，细分为**进程到进程**，将不可靠通信-->**可靠通信**
  - TCP, UDP
- **网络层**：为数据报从源到目的**选择路由**--分组(packet),无连接方式为数据报(datagram)
  - 端到端通信，**不可靠**
  - IP, 路由协议
- **链路层**：相邻网络节点间的数据传输--帧(frame)
  - 点到点通信，可靠或不可靠
  - PPP，802.11(wifi), Ethernet
- **物理层**：在线路上传送bit--比特(bit)

